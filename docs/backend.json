{
  "entities": {
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user within the OmniCore application.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user."
        },
        "email": {
          "type": "string",
          "description": "User's email address.",
          "format": "email"
        },
        "name": {
          "type": "string",
          "description": "User's full name."
        }
      },
      "required": [
        "id",
        "email"
      ]
    },
    "Task": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Task",
      "type": "object",
      "description": "Represents a task within a project.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the task."
        },
        "userId": {
          "type": "string",
          "description": "Reference to User. (Relationship: User 1:N Task)"
        },
        "name": {
          "type": "string",
          "description": "Name of the task."
        },
        "description": {
          "type": "string",
          "description": "Description of the task."
        },
        "priority": {
          "type": "string",
          "enum": ["High", "Medium", "Low"],
          "description": "Priority of the task (High, Medium, Low)."
        },
        "status": {
          "type": "string",
          "enum": ["To Do", "In Progress", "Done"],
          "description": "Status of the task (To Do, In Progress, Done)."
        },
        "dueDate": {
          "type": "string",
          "description": "Due date of the task.",
          "format": "date"
        }
      },
      "required": [
        "id",
        "userId",
        "name",
        "priority",
        "status"
      ]
    },
    "Note": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Note",
      "type": "object",
      "description": "Represents a markdown-based note.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the note."
        },
        "userId": {
          "type": "string",
          "description": "Reference to User. (Relationship: User 1:N Note)"
        },
        "title": {
          "type": "string",
          "description": "Title of the note."
        },
        "content": {
          "type": "string",
          "description": "Markdown content of the note."
        },
        "createdAt": {
            "type": "string",
            "format": "date-time"
        }
      },
      "required": [
        "id",
        "userId",
        "title",
        "content",
        "createdAt"
      ]
    },
    "File": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "File",
      "type": "object",
      "description": "Represents a file stored in the system.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the file."
        },
        "userId": {
          "type": "string",
          "description": "Reference to User. (Relationship: User 1:N File)"
        },
        "name": {
          "type": "string",
          "description": "Name of the file."
        },
        "type": {
          "type": "string",
          "description": "MIME type of the file."
        },
        "size": {
          "type": "number",
          "description": "Size of the file in bytes."
        },
        "uploadDate": {
          "type": "string",
          "description": "Date the file was uploaded.",
          "format": "date-time"
        },
        "storagePath": {
          "type": "string",
          "description": "The path to the file in Firebase Storage."
        }
      },
      "required": [
        "id",
        "userId",
        "name",
        "type",
        "size",
        "uploadDate",
        "storagePath"
      ]
    },
     "Contact": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Contact",
      "type": "object",
      "description": "Represents a CRM contact.",
      "properties": {
        "id": { "type": "string" },
        "userId": { "type": "string" },
        "name": { "type": "string" },
        "email": { "type": "string", "format": "email" },
        "company": { "type": "string" },
        "status": { "type": "string", "enum": ["Lead", "Customer", "Archived"] }
      },
      "required": ["id", "userId", "name", "email", "status"]
    },
    "RoadmapItem": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "RoadmapItem",
      "type": "object",
      "description": "Represents an item on the public roadmap.",
      "properties": {
        "id": { "type": "string" },
        "title": { "type": "string" },
        "description": { "type": "string" },
        "status": { "type": "string", "enum": ["Planned", "In Progress", "Completed"] },
        "source": { "type": "string", "enum": ["Community", "Internal"] },
        "order": { "type": "number" }
      },
      "required": ["id", "title", "description", "status", "source", "order"]
    },
     "Notification": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Notification",
      "type": "object",
      "description": "Represents a user notification or activity feed item.",
      "properties": {
        "id": { "type": "string" },
        "userId": { "type": "string" },
        "type": { "type": "string", "enum": ["task_created", "note_created", "file_uploaded", "system_message"] },
        "message": { "type": "string" },
        "createdAt": { "type": "string", "format": "date-time" },
        "isRead": { "type": "boolean" }
      },
      "required": ["id", "userId", "type", "message", "createdAt", "isRead"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous",
      "google.com"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "User",
          "schema": { "$ref": "#/backend/entities/User" },
          "description": "Stores user profile information."
        }
      },
      {
        "path": "/users/{userId}/tasks/{taskId}",
        "definition": {
          "entityName": "Task",
          "schema": { "$ref": "#/backend/entities/Task" },
          "description": "Stores user tasks."
        }
      },
      {
        "path": "/users/{userId}/notes/{noteId}",
        "definition": {
          "entityName": "Note",
          "schema": { "$ref": "#/backend/entities/Note" },
          "description": "Stores user notes."
        }
      },
      {
        "path": "/users/{userId}/files/{fileId}",
        "definition": {
          "entityName": "File",
          "schema": { "$ref": "#/backend/entities/File" },
          "description": "Stores metadata about user-uploaded files."
        }
      },
      {
        "path": "/users/{userId}/contacts/{contactId}",
        "definition": {
          "entityName": "Contact",
          "schema": { "$ref": "#/backend/entities/Contact" },
          "description": "Stores CRM contacts for a user."
        }
      },
      {
        "path": "/users/{userId}/notifications/{notificationId}",
        "definition": {
            "entityName": "Notification",
            "schema": { "$ref": "#/backend/entities/Notification" },
            "description": "Stores notifications for a user's activity feed."
        }
      },
      {
        "path": "/roadmap/{itemId}",
        "definition": {
            "entityName": "RoadmapItem",
            "schema": { "$ref": "#/backend/entities/RoadmapItem" },
            "description": "Publicly readable roadmap items."
        }
      }
    ]
  },
  "storage": {
    "rules": "rules/storage.rules"
  }
}
